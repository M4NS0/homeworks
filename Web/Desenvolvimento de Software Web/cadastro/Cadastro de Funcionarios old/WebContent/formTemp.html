<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reloading</title>
    
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    	<!-- Bootstrap 4  -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">


</head>
<body> 

	<h4>Cadastro de Funcionários</h4>
   
        <div class="form-group">
            <strong>CPF</strong> <input class="form-control" style="text-align: center;" id="cpf" name="cpf" maxlength="11" onblur="return validaCPF(this.value)" readonly>
        </div>
        <div class="form-group">
            <strong>Nome</strong> <input class="form-control" style="text-align: center;" id="nome">
        </div>
        <div class="form-group">
            <strong>Nascimento</strong> <input class="form-control" style="text-align: center;" id="nascimento" type="text" name="nascimento" maxlength="10" onblur="return validaData(this.value)">
        </div>
        <div class="form-group">
            <strong>Salário</strong> <input class="form-control" style="text-align: center;" id="idForm" type="text" name="salario" onblur="return validaDecimal(this)">
        </div>
        <div class="row">
            <div class="col-sm-6">
                <label for="departamento">Departamento: </label>
            </div>
            <div class="col-sm-6">
                <select id="departamento" name="departamento">
                    <option value="">Selecione</option>
                    <option value="Diretoria">Diretoria</option>
                    <option value="Administrativo">Administrativo</option>
                    <option value="TI">Tecnologia da Informação</option>
                    <option value="Financeiro">Financeiro</option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <label for="cargo">Cargo: </label>
            </div>
            <div class="col-sm-6">
                <select id="cargo" name="cargo">
                    <option value="">Selecione</option>
                    <option value="Diretor">Diretor</option>
                    <option value="Assistente">Assistente</option>
                    <option value="Auxiliar">Auxiliar</option>
                    <option value="Estagiario">Estagiário</option>
                </select>
            </div>
        </div>

        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-6">
                    <button type="submit" value="salvar" name="salvar"
                        class="btn btn-success btn-lg">Salvar</button>
                </div>
                <div class="col-sm-6">
                    <button type="reset" value="reset" name="limpar"
                        class="btn btn-danger btn-lg">Limpar</button>
                </div>
            </div>
        </div>

        <script>
            function validaCPF(dados) {
			var i;
			s = dados;
			var dados = s.substr(0, 9);
			var dv = s.substr(9, 2);
			var d1 = 0;
			var v = false;

			for (i = 0; i < 9; i++) {
				d1 += dados.charAt(i) * (10 - i);
			}
			if (d1 == 0) {
				alert("Atenção! O Cpf deve ser Digitado");
				v = true;
				return false;
			}
			d1 = 11 - (d1 % 11);
			if (d1 > 9) d1 = 0;
			if (dv.charAt(0) != d1) {
				alert("CPF Inválido, não use pontos ou traços, use apenas os 11 números");
				v = true;
				return false;
			}

			d1 *= 2;
			for (i = 0; i < 9; i++) {
				d1 += c.charAt(i) * (11 - i);
			}
			d1 = 11 - (d1 % 11);
			if (d1 > 9) d1 = 0;
			if (dv.charAt(1) != d1) {
				alert("CPF Inválido, não use pontos ou traços, use apenas os 11 números");
				v = true;
				return false;
			}
		}
        function validaData(data) {
			var date = data;
			var ardt = new Array;
			var ExpReg = new RegExp("(0[1-9]|[12][0-9]|3[01])/(0[1-9]|1[012])/[12][0-9]{3}");
			ardt = date.split("/");
			erro = false;
			if (date.search(ExpReg) == -1) {
				erro = true;
			} else if (((ardt[1] == 4) || (ardt[1] == 6) || (ardt[1] == 9) || (ardt[1] == 11)) && (ardt[0] > 30))
				erro = true;
			else if (ardt[1] == 2) {
				if ((ardt[0] > 28) && ((ardt[2] % 4) != 0))
					erro = true;
				if ((ardt[0] > 29) && ((ardt[2] % 4) == 0))
					erro = true;
			}
			if (erro) {
				alert(data + "A data de nascimento precisa ser inserida, utilize o formato MM/DD/AAAA");
				return false;
			}
			return true;
		}

		function validaDecimal(data) {
			var decimal = /^[-+]?[0-9]+\.[0-9]+$/;
			if (data.value.match(decimal)) {
				return true;
			} else {
				alert('O salário base não pode estar vazio e deve conter números com 2 casas decimais separadas por ponto')
				return false;
			}
		}   
        </script>
        
        
        
        
</body>
</html>